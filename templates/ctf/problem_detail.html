{% extends "base.html" %}
{% load static %}

{% block page_title %}BeginnersCTF | 問題詳細{% endblock %}

{% block content %}
<div class="container my-5">
  <!-- タイトル -->
  <h6 class="font-weight-bold text-center grey-text text-uppercase small mb-4">problem_detail</h6>
  <h3 class="font-weight-bold text-center white-text pb-2">問題詳細ページ</h3>
  <hr class="w-header white my-4">

  {% if messages %}
  {% for message in messages %}
  <div class="alert alert-{{ message.tags }}" role="alert">
    <span>{{ message }}</span>
  </div>
  {% endfor %}
  {% endif %}

  <div class="card p-5 bg-info">
    <h3>{{ problem.name }}</h3>
    <p>{{ problem.statement|linebreaksbr }}</p>
    <p><a href="../../media/{{ problem.file }}" download>{{ problem.file|cut:"problems/"|default:'ファイルなし' }}</a>
    </p>
  </div>

  <form method="post" class="p-5">
    {% csrf_token %}

    {% for field in form %}
    <div>
      {{ field }}
      {% if field.errors %}
      {% for error in field.errors %}
      <div class="error-feedback">{{ error }}</div>
      {% endfor %}
      {% endif %}
    </div>
    {% endfor %}

    {% for non_field_error in form.non_field_errors %}
    <div class="error-feedback">
      {{ non_field_error }}
    </div>
    {% endfor %}

    <div class="my-3">
      <button class="primaryAction btn btn-primary btn-block waves-effect waves-light w-100 p-4" type="submit">解答送信</button>
    </div>
  </form>

</div>
{% endblock %}